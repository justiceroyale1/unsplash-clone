import{K as E,a4 as T,au as ae,r as D,ah as se,e as F,a6 as ue,az as le,at as W,i as c,ak as w,a5 as X,o as ie,ax as _,aF as re,T as L,aC as ce,aU as ve,aV as de}from"./CWqOReMd.js";const ge=E({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function he(l){const s=T("useRender");s.render=l}function fe(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const v=ae(),u=D();if(se){const t=new ResizeObserver(n=>{l==null||l(n,t),n.length&&(s==="content"?u.value=n[0].contentRect:u.value=n[0].target.getBoundingClientRect())});F(()=>{t.disconnect()}),ue(()=>v.el,(n,i)=>{i&&(t.unobserve(i),u.value=void 0),n&&t.observe(n)},{flush:"post"})}return{resizeRef:v,contentRect:le(u)}}const B=Symbol.for("vuetify:layout"),q=Symbol.for("vuetify:layout-item"),Z=1e3,be=E({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),xe=E({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Ie(l){const s=W(B);if(!s)throw new Error("[Vuetify] Could not find injected layout");const v=l.id??`layout-item-${ce()}`,u=T("useLayoutItem");_(q,{id:v});const t=X(!1);ve(()=>t.value=!0),de(()=>t.value=!1);const{layoutItemStyles:n,layoutItemScrimStyles:i}=s.register(u,{...l,active:c(()=>t.value?!1:l.active.value),id:v});return F(()=>s.unregister(v)),{layoutItemStyles:n,layoutRect:s.layoutRect,layoutItemScrimStyles:i}}const pe=(l,s,v,u)=>{let t={top:0,left:0,right:0,bottom:0};const n=[{id:"",layer:{...t}}];for(const i of l){const m=s.get(i),g=v.get(i),$=u.get(i);if(!m||!g||!$)continue;const h={...t,[m.value]:parseInt(t[m.value],10)+($.value?parseInt(g.value,10):0)};n.push({id:i,layer:h}),t=h}return n};function Re(l){const s=W(B,null),v=c(()=>s?s.rootZIndex.value-100:Z),u=D([]),t=w(new Map),n=w(new Map),i=w(new Map),m=w(new Map),g=w(new Map),{resizeRef:$,contentRect:h}=fe(),Y=c(()=>{const o=new Map,d=l.overlaps??[];for(const e of d.filter(r=>r.includes(":"))){const[r,a]=e.split(":");if(!u.value.includes(r)||!u.value.includes(a))continue;const f=t.get(r),y=t.get(a),R=n.get(r),S=n.get(a);!f||!y||!R||!S||(o.set(a,{position:f.value,amount:parseInt(R.value,10)}),o.set(r,{position:y.value,amount:-parseInt(S.value,10)}))}return o}),b=c(()=>{const o=[...new Set([...i.values()].map(e=>e.value))].sort((e,r)=>e-r),d=[];for(const e of o){const r=u.value.filter(a=>{var f;return((f=i.get(a))==null?void 0:f.value)===e});d.push(...r)}return pe(d,t,n,m)}),j=c(()=>!Array.from(g.values()).some(o=>o.value)),x=c(()=>b.value[b.value.length-1].layer),k=c(()=>({"--v-layout-left":L(x.value.left),"--v-layout-right":L(x.value.right),"--v-layout-top":L(x.value.top),"--v-layout-bottom":L(x.value.bottom),...j.value?void 0:{transition:"none"}})),I=c(()=>b.value.slice(1).map((o,d)=>{let{id:e}=o;const{layer:r}=b.value[d],a=n.get(e),f=t.get(e);return{id:e,...r,size:Number(a.value),position:f.value}})),H=o=>I.value.find(d=>d.id===o),O=T("createLayout"),K=X(!1);ie(()=>{K.value=!0}),_(B,{register:(o,d)=>{let{id:e,order:r,position:a,layoutSize:f,elementSize:y,active:R,disableTransitions:S,absolute:Q}=d;i.set(e,r),t.set(e,a),n.set(e,f),m.set(e,R),S&&g.set(e,S);const N=re(q,O==null?void 0:O.vnode).indexOf(o);N>-1?u.value.splice(N,0,e):u.value.push(e);const U=c(()=>I.value.findIndex(z=>z.id===e)),A=c(()=>v.value+b.value.length*2-U.value*2),ee=c(()=>{const z=a.value==="left"||a.value==="right",C=a.value==="right",oe=a.value==="bottom",M=y.value??f.value,ne=M===0?"%":"px",V={[a.value]:0,zIndex:A.value,transform:`translate${z?"X":"Y"}(${(R.value?0:-(M===0?100:M))*(C||oe?-1:1)}${ne})`,position:Q.value||v.value!==Z?"absolute":"fixed",...j.value?void 0:{transition:"none"}};if(!K.value)return V;const p=I.value[U.value];if(!p)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const P=Y.value.get(e);return P&&(p[P.position]+=P.amount),{...V,height:z?`calc(100% - ${p.top}px - ${p.bottom}px)`:y.value?`${y.value}px`:void 0,left:C?void 0:`${p.left}px`,right:C?`${p.right}px`:void 0,top:a.value!=="bottom"?`${p.top}px`:void 0,bottom:a.value!=="top"?`${p.bottom}px`:void 0,width:z?y.value?`${y.value}px`:void 0:`calc(100% - ${p.left}px - ${p.right}px)`}}),te=c(()=>({zIndex:A.value-1}));return{layoutItemStyles:ee,layoutItemScrimStyles:te,zIndex:A}},unregister:o=>{i.delete(o),t.delete(o),n.delete(o),m.delete(o),g.delete(o),u.value=u.value.filter(d=>d!==o)},mainRect:x,mainStyles:k,getLayoutItem:H,items:I,layoutRect:h,rootZIndex:v});const G=c(()=>["v-layout",{"v-layout--full-height":l.fullHeight}]),J=c(()=>({zIndex:s?v.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:G,layoutStyles:J,getLayoutItem:H,items:I,layoutRect:h,layoutRef:$}}export{fe as a,xe as b,Ie as c,be as d,Re as e,ge as m,he as u};
